# כספית - מערכת ניהול פיננסי חכם 💰

מערכת מקיפה לניהול פיננסי לעסקים ישראליים, כולל מעקב הכנסות והוצאות, תקציבים, דוחות מע"מ ותובנות חכמות.

## ✨ תכונות עיקריות

- 📊 **דשבורד חכם** - סקירה כללית עם גרפים, התראות והמלצות
- 💰 **ניהול הכנסות והוצאות** - הוספה ידנית או ייבוא מאקסל
- 🏦 **תנועות בנק** - ייבוא ומעקב תנועות בנק
- 📈 **תקציב חכם** - הצעת תקציב אוטומטית ומעקב חריגות
- 📑 **דוח מע"מ** - חישוב אוטומטי של מע"מ (18%) לדיווח
- 🏷️ **קטגוריות מותאמות** - הגדרה עצמית של קטגוריות
- 👥 **ספקים ולקוחות** - ניהול אנשי קשר עסקיים
- 🔔 **התראות חכמות** - התראות על חריגות, תשלומים ועוד
- 🌐 **תמיכה מלאה בעברית** - ממשק RTL מלא

---

## 🔢 מע"מ

המערכת מוגדרת לחישוב מע"מ בשיעור **18%** בהתאם לחוק בישראל.
המע"מ מחושב אוטומטית בעת הזנת הכנסות והוצאות.

---

## 📤 ייבוא מאקסל

המערכת תומכת בייבוא נתונים מקבצי Excel ו-CSV:

### תבניות להורדה:
- **הכנסות** - `public/templates/income-template.xlsx`
- **הוצאות** - `public/templates/expenses-template.xlsx`
- **תנועות בנק** - `public/templates/bank-template.xlsx`

### עמודות נדרשות:

**הכנסות:**
| עמודה | חובה | תיאור |
|-------|------|-------|
| תאריך | כן | YYYY-MM-DD |
| סכום | כן | סכום לפני מע"מ |
| תיאור | לא | תיאור ההכנסה |
| מספר חשבונית | לא | מספר המסמך |
| פטור ממע"מ | לא | true/false |
| סטטוס | לא | paid/pending |

**הוצאות:**
| עמודה | חובה | תיאור |
|-------|------|-------|
| תאריך | כן | YYYY-MM-DD |
| סכום | כן | סכום לפני מע"מ |
| תיאור | לא | תיאור ההוצאה |
| מספר חשבונית | לא | מספר המסמך |
| פטור ממע"מ | לא | true/false |
| סטטוס | לא | paid/pending |

**תנועות בנק:**
| עמודה | חובה | תיאור |
|-------|------|-------|
| תאריך | כן | YYYY-MM-DD |
| סכום | כן | סכום (חיובי/שלילי) |
| תיאור | לא | תיאור התנועה |
| יתרה | לא | יתרה לאחר התנועה |
| שם הבנק | לא | שם הבנק |
| מספר חשבון | לא | מספר חשבון |

---

## 🚀 הוראות התקנה

### שלב 1: הגדרת Supabase

1. היכנס ל-[Supabase](https://supabase.com) וצור חשבון
2. לחץ על **New Project**
3. בחר שם לפרויקט (למשל: kaspit)
4. בחר סיסמה לבסיס הנתונים (שמור אותה!)
5. בחר אזור (מומלץ: Frankfurt)
6. לחץ **Create new project**

### שלב 2: יצירת הטבלאות

1. בתוך הפרויקט, לחץ על **SQL Editor**
2. לחץ על **New query**
3. העתק את כל התוכן מהקובץ `supabase-schema.sql`
4. לחץ **Run** להרצת הקוד

### שלב 3: קבלת מפתחות

1. לחץ על **Settings** → **API**
2. העתק את:
   - **Project URL**
   - **anon public key**

### שלב 4: הגדרת משתני סביבה

צור קובץ `.env.local` והעתק את התוכן מ-`.env.example`:

```bash
cp .env.example .env.local
```

ערוך את הקובץ עם הערכים שקיבלת מ-Supabase.

### שלב 5: התקנה והרצה

```bash
npm install
npm run dev
```

פתח http://localhost:3000

---

## 🌐 פריסה ב-Vercel

1. העלה את הקוד ל-GitHub
2. היכנס ל-[Vercel](https://vercel.com)
3. לחץ **Add New** → **Project**
4. בחר את הריפו של kaspit
5. הוסף משתני סביבה:
   - `NEXT_PUBLIC_SUPABASE_URL`
   - `NEXT_PUBLIC_SUPABASE_ANON_KEY`
6. לחץ **Deploy**

---

## 📁 מבנה הפרויקט

```
kaspit/
├── app/                    # דפי האפליקציה
│   ├── (dashboard)/        # דפים מאחורי התחברות
│   │   ├── dashboard/      # דף הבית
│   │   ├── income/         # הכנסות
│   │   ├── expenses/       # הוצאות
│   │   ├── bank/           # תנועות בנק
│   │   ├── budget/         # תקציב
│   │   ├── reports/        # דוחות
│   │   ├── vat-report/     # דוח מע"מ
│   │   ├── categories/     # קטגוריות
│   │   ├── contacts/       # ספקים ולקוחות
│   │   └── settings/       # הגדרות
│   └── login/              # דף התחברות
├── components/             # קומפוננטות
│   ├── dashboard/          # קומפוננטות דשבורד
│   ├── forms/              # טפסים
│   ├── import/             # ייבוא אקסל
│   ├── layout/             # פריסה
│   └── ui/                 # רכיבי UI בסיסיים
├── hooks/                  # React hooks
├── lib/                    # פונקציות עזר
├── types/                  # TypeScript types
├── templates/              # תבניות ייבוא
└── public/templates/       # תבניות להורדה
```

---

## 🔧 טכנולוגיות

- **Framework:** Next.js 14 (App Router)
- **Database:** Supabase (PostgreSQL)
- **Auth:** Supabase Auth
- **Styling:** Tailwind CSS
- **Charts:** Recharts
- **Excel:** ExcelJS
- **Icons:** Lucide React
- **Language:** TypeScript

---

## 📄 רישיון

MIT License

---

נבנה עם ❤️ עבור עסקים ישראליים
